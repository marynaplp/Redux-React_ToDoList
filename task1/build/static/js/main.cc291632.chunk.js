(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(7),r=a.n(c),o=(a(14),a(5)),i=a(1),l=a(2),u=a(4),h=a(3),d=a(8),m=a.n(d),f=function(e){var t=e.id,a=e.done,n=e.text,c=e.onChange,r=e.onDelete,o=m()("list-item",{"list-item_done":a});return s.a.createElement("li",{className:o},s.a.createElement("input",{type:"checkbox",className:"list-item__checkbox",defaultChecked:a,onChange:function(){return c(t)}}),s.a.createElement("span",{className:"list-item__text"},n),s.a.createElement("button",{className:"list-item__delete-btn",onClick:function(){return r(t)}}))},k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleTaskCreate=function(){e.props.onCreate(e.state.value),e.setState({value:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"create-task"},s.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,className:"create-task__input"}),s.a.createElement("button",{className:"btn create-task__btn",onClick:this.handleTaskCreate},"Create"))}}]),a}(n.Component),p="https://5ecd23db7c528e00167cd104.mockapi.io/Projects/Gromcode/tasks",v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={tasks:[]},e.fetchTasksList=function(){fetch(p).then((function(e){if(e.ok)return e.json()})).then((function(t){e.setState({tasks:t})}))},e.onCreate=function(t){var a={id:Math.random(),text:t,done:!1};fetch(p,{method:"POST",headers:{"Content-Type":"application/json; charset=utc-8"},body:JSON.stringify(a)}).then((function(t){if(!t.ok)throw new Error("Faild to create task");e.fetchTasksList()}))},e.handleTaskStatusChange=function(t){var a=e.state.tasks.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{done:!e.done}):e}));e.setState({tasks:a})},e.handleTaskDelete=function(t){var a=e.state.tasks.filter((function(e){return e.id!==t}));e.setState({tasks:a})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchTasksList()}},{key:"render",value:function(){var e=this,t=this.state.tasks.slice().sort((function(e,t){return e.done-t.done}));return s.a.createElement("div",{className:"todo-list"},s.a.createElement(k,{onCreate:this.onCreate}),s.a.createElement("ul",{className:"list"},t.map((function(t){return s.a.createElement(f,Object.assign({key:t.id},t,{onDelete:e.handleTaskDelete,onChange:e.handleTaskStatusChange}))}))))}}]),a}(n.Component),b=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"title"},"Todo List"),s.a.createElement(v,null))};r.a.render(s.a.createElement(b,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.cc291632.chunk.js.map